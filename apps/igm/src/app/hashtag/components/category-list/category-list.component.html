<igm-input class="search" icon="search" [(ngModel)]="searchTerm">Search</igm-input>

<mat-spinner class="spinner" [diameter]="50" *ngIf="loading$ | async"></mat-spinner>

<mat-selection-list [multiple]="multiple" [compareWith]="compareWith">

  <mat-list-option *ngFor="let category of (categories$ | async) | igmTextFilter: searchTerm"
                   [selected]="isSelected(category)" [value]="category">

    <div>
      <span>{{category.text}}</span>
      <span *ngIf="withCounts" class="muted">
        ({{category.hashtags?.length || 0}})
      </span>
    </div>

  </mat-list-option>
</mat-selection-list>
